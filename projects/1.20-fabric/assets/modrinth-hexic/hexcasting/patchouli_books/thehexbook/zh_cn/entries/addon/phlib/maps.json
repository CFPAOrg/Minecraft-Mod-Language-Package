{
  "name": "映射",
  "category": "hexcasting:patterns",
  "icon": "minecraft:filled_map",
  "advancement": "hexcasting:root",
  "pages": [
    "映射是能存储 iota 对的高效结构。虽然这种功能只靠列表操作也能做到，但专门设计的映射 iota 用到了某种奥秘物件，称作“$(thing)哈希/$”。这种区别并不会减少访问映射所需$(o)运算符/$的数量，却能大幅降低自然的负载，大多数访问下接近于 O(1)。",
    {
      "type": "hexcasting:pattern",
      "op_id": "phlib:empty_map",
      "anchor": "phlib:empty_map",
      "input": "",
      "output": "map<⊥, ⊥>",
      "text": "创建一个空映射以供使用。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:add",
      "anchor": "hexcasting:add",
      "input": "map<k, v>, map<k, v>",
      "output": "map<k, v>",
      "text": "合并两个映射。映射中不允许存在重复项：后一映射的项会覆盖前一映射的。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:sub",
      "anchor": "hexcasting:sub",
      "input": "map<k, v>, map<t, *>",
      "output": "map<k, v>",
      "text": "从第一个映射中移除第二个映射的项。比对时忽略第二个映射中项的值。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:index",
      "anchor": "hexcasting:index",
      "input": "map<k, v>, k",
      "output": "v?",
      "text": "拆解映射，返回与所给键相关的值。和扫描列表不一样，此操作的复杂度是 O(1)。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:unappend",
      "anchor": "hexcasting:unappend",
      "input": "map<k, v>",
      "output": "map<k, v>, (k, v)?",
      "text": "从映射中取出一个项。删去哪个项没有定论，完全由自然随意决定。对空映射使用时返回两个 Null。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:replace",
      "anchor": "hexcasting:replace",
      "input": "map<k, v>, k, v",
      "output": "map<k, v>",
      "text": "将键为 $(n)k/$ 的项的值换为 $(n)v/$。若映射内没有 $(n)k/$ 键，则新建项。"
    },
    {
      "type": "hexcasting:pattern",
      "op_id": "hexcasting:remove_from",
      "anchor": "hexcasting:remove_from",
      "input": "map<k, v>, k",
      "output": "map<k, v>",
      "text": "从映射中删去所给键对应的项。若未找到相应项，则原样返回映射。"
    }
  ]
}